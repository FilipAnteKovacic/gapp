{{define "content"}}

{{template "header" .}}

<div class="d-flex flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 border-bottom">
	<div class="col-md-6">
		<h6 class="p-1">
			<span class="p-2">Syncers</span>
		</h6>

	</div>
</div>

{{if not .User.Token}}

<div class="container-fluid">
								
	<div class="row">

		<div class="col-md-3"></div>

		<div class="col-md-6">

			<form action="" method="POST" enctype="multipart/form-data">

				<div class="form-group">
					<label>JSON OAuth 2.0 client ID Credentials</label>
					<div class="input-group">
						<input 
							name="credentials" 
							type="file" 
							class="form-control" 
							placeholder="Credentials"
						>
						<span class="input-group-addon">
							<input 
								type="submit" 
								name="cred" 
								value="Save" 
								class="btn btn-primary pull-right"
							>
						</span>
					</div>
				</div>

			</form>

		</div>

		<div class="col-md-3"></div>
	</div>

</div>

{{end}}


{{if .User.Token}}

<div class="container-fluid">
                                 
	<div class="row">

		<nav class="col bg-light sidebar">

			<h4 class="border-bottom pt-2 pb-2">
				
				<form action="" method="POST" class="form-horizontal">
					<input type="submit" 
						name="contacts" 
						value="Sync contacts" 
						class="btn btn-primary "
					/>
				</form>

			</h4>

			<h4 class="border-bottom pt-2 pb-2">
				
				<form action="" method="POST" class="form-horizontal">
					<input type="submit" 
						name="labels" 
						value="Sync labels" 
						class="btn btn-danger"
					>
				</form>

			</h4>

			<h4 class="border-bottom pt-2 pb-2">
				
				Gmail sync

			</h4>

			<ul class="nav flex-column mb-2">

				<li class="nav-item">
					<form action="" method="POST" class="form-horizontal">
						<div class="form-group">
							<input 
								type="text" 
								name="query" 
								class="form-control" 
								placeholder="Query" 
							>
						</div>
						<div class="form-group">
							<select name="type" class="form-control" >
								<option value="init">One time</option>
								<option value="daily">Daily</option>
							</select>
						</div>
						<div class="form-group form-check">
							<input type="checkbox" 
								name="deleteEmail" 
								value="true" 
								class="form-check-input" 
								id="deleteEmail"
							>
							<label class="form-check-label" for="deleteEmail">Delete sync email</label>
						</div>

						<input type="submit" 
							name="gmail" 
							value="Start" 
							class="btn btn-primary pull-right"
						>
					</form>
				</li>

			</ul>

		</nav>
		<div class="col-9 ">
			<table class="table table-striped table-hover">

				<thead>
				
					<tr>
						<th>CreatedBy</th>
						<th>Query</th>
						<th>Type</th>
						<th>DeleteEmail</th>
						<th>Count</th>
						<th>Duration</th>
						<th>Start</th>
						<th>End</th>
					</tr>

				</thead>
				<tbody>

					{{ range $key, $row := .Syncers }}

						<tr>
							<td>{{ $row.CreatedBy }}</td>
							<td>{{ $row.Query }}</td>
							<td>{{ $row.Type }}</td>
							<td>{{ $row.DeleteEmail }}</td>
							<td>{{ $row.Count }}</td>
							<td>{{ $row.Duration }}</td>
							<td>{{ $row.Start }}</td>
							<td>{{ $row.End }}</td>
						</tr>	

					{{ end }}

				</tbody>
			</table>
		</div>
	</div>

</div> <!-- .container-fluid -->

{{end}}

{{end}}
















        
        

    
    
