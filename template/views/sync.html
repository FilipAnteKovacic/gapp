{{define "content"}}

{{template "header" .}}

<div class="page-heading">            
    <h1>
		Gmail | {{.User.Email}}</small>
	</h1>

	{{if not .User.Token}}

		<form action="" method="POST"  enctype="multipart/form-data" class="form-horizontal">

			<div class="input-group mb-lg col-md-4 pull-right">

				<div class="form-group">
					<div class="col-xs-12">
						<label>Credentials</label>
						<div class="input-group">
							<span class="input-group-addon">
								<i class="fa fa-file-code-o"></i>
							</span>
							<input 
								name="credentials" 
								type="file" 
								class="form-control" 
								placeholder="Credentials"
								required
							>
						</div>
					</div>
				</div>

				<span class="input-group-btn">
					<input type="submit" name="save_cred" value="Save" class="btn btn-primary">
				</span>
			</div>

		</form>

	{{end}}

</div>


{{if .User.Token}}

<div class="container-fluid">
                                 
	<div class="row">

		<div class="col-md-2">

			<div class="panel">

				<div class="panel-body">

					<form action="" method="POST" class="form-horizontal">
						<input type="submit" name="labels" value="Sync labels" class="btn btn-danger ">
					</form>
					<hr/>
					<form action="" method="POST" class="form-horizontal">
						<div class="form-group">

							<label>New email sync query</label>
							<input 
								type="query" 
								name="query" 
								class="form-control" 
								placeholder="Query" 
								required
							>
						</div>
						<input type="submit" name="start_sync" value="Start" class="btn btn-primary pull-right">
					</form>
				</div>

			</div>
			
		</div>
		<div class="col-md-10">
			<div class="panel panel-inbox">

				<div class="panel-body">

					<table class="table table-striped table-hover table-inbox mb0 table-vam">

						<thead>
						
							<tr>
								<td>Query</td>
								<td>Start</td>
								<td>End</td>
								<td>Count</td>
							</tr>

						</thead>
						<tbody>

							{{ range $key, $row := .Syncers }}

								<tr>
									<td>{{ $row.Query }}</td>
									<td>{{ $row.Start }}</td>
									<td>{{ $row.End }}</td>
									<td>{{ $row.Count }}</td>
								</tr>	

							{{ end }}

						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>

</div> <!-- .container-fluid -->

{{end}}

{{end}}
















        
        

    
    
